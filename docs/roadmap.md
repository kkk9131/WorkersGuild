# Workers Guild アプリ開発ロードマップ

## プロジェクト概要

Workers Guild は建設業界の足場職人チーム向けのゲーミフィケーションタスク管理モバイルアプリケーションです。

## 技術スタック

- **フロントエンド**: Expo React Native (SDK 53.x)
- **バックエンド**: Supabase (PostgreSQL + Edge Functions)
- **状態管理**: Zustand + React Query
- **UI フレームワーク**: NativeWind (Tailwind CSS for React Native)
- **アニメーション**: React Native Reanimated 3 + Skia
- **AI機能**: OpenAI GPT-4o + Vision API

---

## Phase 1: 基盤構築とプロジェクト初期設定

### 1.1 プロジェクト初期設定

- [x] Expo React Native プロジェクトの作成
- [x] TypeScript設定の最適化
- [x] ESLint・Prettier設定
- [x] Git設定とブランチ戦略の確立

### 1.2 開発環境構築

- [x] NativeWind（Tailwind CSS）の導入
- [x] Expo Router v3の設定
- [x] React Native Reanimated 3の導入
- [x] 必要なライブラリのインストール

### 1.3 基本ディレクトリ構成の構築

- [x] `/app` - Expo Router ページ定義
- [x] `/components` - 再利用可能なコンポーネント
- [x] `/hooks` - カスタムフック
- [x] `/lib` - ライブラリとユーティリティ
- [x] `/stores` - Zustand状態管理
- [x] `/types` - TypeScript型定義

### 1.4 デュアルテーマシステム

- [x] ゲームテーマ（RPG風ファンタジー）の設計
- [x] ビジネステーマ（プロフェッショナルダーク）の設計
- [x] テーマ切り替えロジックの実装
- [x] カラーパレットとスタイルガイドの作成

---

## Phase 2: 認証システムとコア機能

### 2.1 Supabaseバックエンド設定

- [x] Supabaseプロジェクトの作成
- [x] データベーススキーマの設計（部分的）
- [ ] 初期マイグレーションファイルの作成
- [ ] Row Level Security（RLS）ポリシーの設定

### 2.2 認証システム実装

- [x] Supabase Auth統合（部分的）
- [ ] ユーザー登録・ログイン機能（UI実装済み、ロジック未実装）
- [ ] Expo Local Authentication（バイオメトリクス）
- [x] 認証状態管理（Zustand）
- [ ] 認証ガード機能

### 2.3 基本ナビゲーション

- [x] Expo Router設定
- [x] 認証フロー（ログイン/登録画面）（UI実装済み）
- [ ] メインタブナビゲーション
- [ ] 画面遷移アニメーション

### 2.4 ユーザープロフィール

- [ ] ユーザー情報表示
- [ ] プロフィール編集機能
- [ ] 役割ベースアクセス制御（Individual/Leader/Member）

---

## Phase 3: タスク管理とゲーミフィケーション

### 3.1 タスク管理システム

- [ ] タスクCRUD機能
- [ ] タスクステータス管理（todo/doing/review/done）
- [ ] タスクの優先度設定
- [ ] タスクの希少度（common/rare/epic/legendary）
- [ ] タスクフィルタリング・ソート機能

### 3.2 ゲーミフィケーション要素

- [ ] レベルシステム（1-100）の実装
- [ ] EXP報酬システム
- [ ] 5つのスキルステータス管理
- [ ] 進化システム（4段階）の実装
- [ ] レベルアップアニメーション

### 3.3 UI/UXコンポーネント

- [ ] タスクカードコンポーネント
- [ ] プログレスバー・ステータス表示
- [ ] レベル・EXP表示コンポーネント
- [ ] スキルツリー表示
- [ ] アニメーション効果（パーティクル、グロー）

---

## Phase 4: チーム機能とリアルタイム同期

### 4.1 チーム機能

- [ ] チーム作成・参加機能
- [ ] チームメンバー管理
- [ ] チーム内タスクの共有
- [ ] チームリーダー権限管理

### 4.2 ギルド機能

- [ ] ギルド作成・参加
- [ ] ギルド内コミュニケーション
- [ ] ギルド内ランキング
- [ ] ギルドクエスト機能

### 4.3 リアルタイム同期

- [ ] Supabase Realtime統合
- [ ] リアルタイムタスク更新
- [ ] リアルタイムチーム状態同期
- [ ] オフライン対応とデータ同期

---

## Phase 5: 高度な機能とAI統合

### 5.1 AI機能統合

- [ ] OpenAI GPT-4o統合
- [ ] タスク自動生成機能
- [ ] AI アシスタント機能
- [ ] 画像認識によるタスク作成（Vision API）

### 5.2 OCR機能

- [ ] 作業報告書の自動読み取り
- [ ] データ入力の自動化
- [ ] 画像からテキスト抽出

### 5.3 収益管理詳細

- [ ] 詳細な収益トラッキング
- [ ] 収益レポート生成
- [ ] 収益予測機能
- [ ] 税務関連情報管理

### 5.4 プッシュ通知

- [ ] Expo Notifications設定
- [ ] タスクリマインダー通知
- [ ] チーム活動通知
- [ ] レベルアップ通知

---

## Phase 6: 最適化とテスト

### 6.1 パフォーマンス最適化

- [ ] React.memo、useMemo、useCallback最適化
- [ ] 画像の遅延読み込み
- [ ] FlatList最適化
- [ ] メモリ使用量最適化（目標：200MB以下）

### 6.2 テスト実装

- [ ] 単体テスト（Jest + React Native Testing Library）
- [ ] 統合テスト
- [ ] E2Eテスト（Detox）
- [ ] カバレッジ80%以上達成

### 6.3 アクセシビリティ対応

- [ ] WCAG 2.1 AA準拠
- [ ] スクリーンリーダー対応
- [ ] カラーコントラスト比4.5:1以上
- [ ] キーボードナビゲーション対応

---

## Phase 7: デプロイとリリース準備

### 7.1 本番環境構築

- [ ] Supabase本番環境設定
- [ ] 環境変数管理
- [ ] CI/CDパイプライン構築
- [ ] 自動テスト環境構築

### 7.2 アプリストア対応

- [ ] App Store準備（iOS）
- [ ] Google Play Store準備（Android）
- [ ] アプリアイコン・スクリーンショット作成
- [ ] プライバシーポリシー・利用規約作成

### 7.3 監視・分析

- [ ] アプリ分析ツール統合
- [ ] エラートラッキング
- [ ] パフォーマンス監視
- [ ] ユーザーフィードバック収集

---

## 重要な技術的注意事項

### セキュリティ

- 機密情報はExpo SecureStoreに保存
- API通信はHTTPS必須
- RLSポリシーでデータアクセス制御

### パフォーマンス目標

- 低スペックデバイスで50fps以上維持
- バッテリー効率を考慮した実装
- アプリ起動時間3秒以内

### 開発環境要件

- Node.js 18.x LTS
- Expo CLI Latest
- TypeScript 5.x
- 推奨エディタ拡張機能の活用

---

## 各フェーズの想定期間

- **Phase 1**: 1-2週間
- **Phase 2**: 2-3週間
- **Phase 3**: 3-4週間
- **Phase 4**: 2-3週間
- **Phase 5**: 3-4週間
- **Phase 6**: 2-3週間
- **Phase 7**: 1-2週間

**総開発期間**: 約3-4ヶ月（フルタイム開発想定）

---

## 次のステップ

1. Phase 1からの順次実装開始
2. 各フェーズ完了時の動作確認
3. フィードバック収集と改善
4. 段階的リリース戦略の実行
